## AbstractRegistry

### 基础

#### 字段
##### registered
注册的URL
##### subscribed
订阅的URL和其对应的Listener
##### notified
订阅的URL ->  （不同分类 -> 服务提供者的信息）

#### Construct
```java
public AbstractRegistry(URL url) {
    setUrl(url);
    if (url.getParameter(REGISTRY__LOCAL_FILE_CACHE_ENABLED, true)) { // 默认为true
        // Start file save timer
        syncSaveFile = url.getParameter(REGISTRY_FILESAVE_SYNC_KEY, false);
        String defaultFilename = System.getProperty("user.home") + "/.dubbo/dubbo-registry-" + url.getParameter(APPLICATION_KEY) + "-" + url.getAddress().replaceAll(":", "-") + ".cache";
        String filename = url.getParameter(FILE_KEY, defaultFilename);
        File file = null;
        if (ConfigUtils.isNotEmpty(filename)) {
            file = new File(filename);
            if (!file.exists() && file.getParentFile() != null && !file.getParentFile().exists()) {
                if (!file.getParentFile().mkdirs()) {
                    throw new IllegalArgumentException("Invalid registry cache file " + file + ", cause: Failed to create directory " + file.getParentFile() + "!");
                }
            }
        }
        this.file = file;
        // When starting the subscription center,
        // we need to read the local cache file for future Registry fault tolerance processing.
        // 从本地文件读取数据到properties中。
        loadProperties();
        notify(url.getBackupUrls());  // 通知， 符合NotifyListener的要求，一次通知一个服务的一个类型的全量URL。
    }
}
```
#### register

#### unregister

#### subscribe

#### unsubscribe

#### recover

#### destroy

### 本地缓存